{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?cf9f","webpack:///./src/App.vue?df02","webpack:///./src/components/Octave.vue?ee89","webpack:///./src/components/WhiteKey.vue?6347","webpack:///src/components/WhiteKey.vue","webpack:///./src/components/WhiteKey.vue?5e1b","webpack:///./src/components/WhiteKey.vue","webpack:///./src/components/BlackKey.vue?54b1","webpack:///src/components/BlackKey.vue","webpack:///./src/components/BlackKey.vue?dca4","webpack:///./src/components/BlackKey.vue","webpack:///src/components/Octave.vue","webpack:///./src/components/Octave.vue?6aa8","webpack:///./src/components/Octave.vue","webpack:///./src/components/Runner.vue?748d","webpack:///src/components/Runner.vue","webpack:///./src/components/Runner.vue?1a14","webpack:///./src/components/Runner.vue","webpack:///src/App.vue","webpack:///./src/App.vue?382d","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/BlackKey.vue?2f0f","webpack:///./src/components/WhiteKey.vue?d905","webpack:///./src/components/Octave.vue?6d57"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","style","_v","staticClass","ref","staticStyle","on","readFile","directives","rawName","expression","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","selectedSong","multiple","isPlaying","stop","_s","fileName","domProps","_q","isArray","leftHandEnabled","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","rightHandEnabled","bpm","rawBpm","loopEnabled","composing","rawLoopStart","rawLoopEnd","selectedInput","_l","input","midiJson","sheetHeight","sheetWidth","keyWidth","loopStart","loopEnd","midiDevice","k","refInFor","octaveWidth","staticRenderFns","width","whiteKeyWidth","octave","left","class","pressed","currentVelocity","keyColor","note","props","velocity","Number","String","midiNumber","mounted","$root","$on","releaseKey","colorScale","methods","pressKey","component","components","computed","console","log","height","Boolean","cachedNotes","keys","lowestKey","isKeyPressed","isKeyBeingPressed","sketch","standardQuarterNoteHeight","notes","position","deltaTime","keysToBePressed","Set","bpmScaler","undefined","document","addEventListener","keyDown","keyUp","$parent","initializePianoSamples","green","darkGreen","red","darkRed","blue","darkBlue","gray","keyTriggerLocation","rawAllNotes","minimumMeasure","divisionRate","bpm2px","positionAdder","watch","addListener","e","newVal","setupForLoop","$set","resetNoteState","newValue","clear","piano","toDestination","output","gain","load","then","createKeys","pickMode","isOpen","add","number","pressKeyComponent","$emit","noteOn","drawNotes","fill","hand","color","show","isNoteStart","isNoteEnd","noteOff","releaseKeyComponent","stopAll","forEach","loopInArea","parseMidi","tracks","track","midi","pitch","y","getOffset","G","A","E","F","D","pickColor","g","b","$refs","sketchIt","effectGenerator","rectMode","CORNERS","rect","x","CORNER","pace","setup","createCanvas","draw","background","translate","textSize","text","Math","round","Octave","Runner","reader","FileReader","rawFileName","octaveAmount","publicPath","predefinedSongs","availableInputs","$el","querySelector","offsetHeight","offsetWidth","fetch","readAsArrayBuffer","find","filereader","files","runner","library","fas","fab","Vue","FontAwesomeIcon","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.26f28842.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/midi-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"player\"}},[_c('div',{attrs:{\"id\":\"about\"}},[_c('h1',{style:({'margin-top': '0px'})},[_c('a',{attrs:{\"href\":\"/\"}},[_vm._v(\"Play Piano Online\")])]),_c('label',[_vm._v(\"About The Author\")]),_c('div',{attrs:{\"id\":\"icon-container\"}},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/Grkmus\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fab', 'github'],\"size\":\"2x\"}})],1),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://twitter.com/tosungo\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fab', 'twitter'],\"size\":\"2x\"}})],1),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.instagram.com/tosungo/\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fab', 'instagram'],\"size\":\"2x\"}})],1),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://gorkemtosun.com/\"}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'globe'],\"size\":\"2x\"}})],1)])]),_c('div',{attrs:{\"id\":\"player-options\"}},[_c('div',{staticClass:\"module\"},[_c('h3',{staticClass:\"panel-header\"},[_vm._v(\"Song\")]),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"container\"},[_c('label',{attrs:{\"for\":\"filereader\"}},[_vm._v(\" Chose a midi file\")]),_c('input',{ref:\"filereader\",staticStyle:{\"width\":\"140px\"},attrs:{\"id\":\"filereader\",\"type\":\"file\",\"name\":\"filereader\"},on:{\"change\":_vm.readFile}})]),_c('div',{staticClass:\"container\"},[_c('label',{attrs:{\"for\":\"songs\"}},[_vm._v(\"Or pick a predefined song:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedSong),expression:\"selectedSong\"}],attrs:{\"id\":\"songs\",\"name\":\"songs\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedSong=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"label\":\"Canon in D\",\"value\":\"Canon in D\"}}),_c('option',{attrs:{\"label\":\"Mozart - Rondo Alla Turca\",\"value\":\"Mozart - Rondo Alla Turca\"}})])])])]),_c('div',{staticClass:\"module\"},[_c('h3',{staticClass:\"panel-header\"},[_vm._v(\"Player\")]),_c('div',{staticClass:\"panel\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"step-backward\",\"size\":\"2x\"}}),(_vm.isPlaying)?_c('font-awesome-icon',{attrs:{\"icon\":\"pause\",\"size\":\"2x\"},on:{\"click\":function($event){_vm.isPlaying=false}}}):_c('font-awesome-icon',{attrs:{\"icon\":\"play\",\"size\":\"2x\"},on:{\"click\":function($event){_vm.isPlaying=true}}}),_c('font-awesome-icon',{attrs:{\"icon\":\"stop\",\"size\":\"2x\"},on:{\"click\":_vm.stop}}),_c('font-awesome-icon',{attrs:{\"icon\":\"step-forward\",\"size\":\"2x\"}})],1),_c('span',{staticClass:\"truncate\"},[_vm._v(\"Current Song: \"+_vm._s(_vm.fileName || _vm.selectedSong))])]),_c('div',{staticClass:\"module\"},[_c('h3',{staticClass:\"panel-header\"},[_vm._v(\"Mods\")]),_c('div',{staticClass:\"panel\"},[_c('label',{attrs:{\"for\":\"play-along\"}},[_vm._v(\"Play along\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode),expression:\"mode\"}],attrs:{\"id\":\"play-along\",\"type\":\"radio\",\"name\":\"mode\",\"value\":\"playAlong\"},domProps:{\"checked\":_vm._q(_vm.mode,\"playAlong\")},on:{\"change\":function($event){_vm.mode=\"playAlong\"}}}),_c('label',{attrs:{\"for\":\"wait-input\"}},[_vm._v(\"Wait for input\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode),expression:\"mode\"}],attrs:{\"id\":\"wait-input\",\"type\":\"radio\",\"name\":\"mode\",\"value\":\"waitInput\"},domProps:{\"checked\":_vm._q(_vm.mode,\"waitInput\")},on:{\"change\":function($event){_vm.mode=\"waitInput\"}}}),_c('label',{attrs:{\"for\":\"left-hand\"}},[_vm._v(\"Left Hand\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.leftHandEnabled),expression:\"leftHandEnabled\"}],attrs:{\"id\":\"left-hand\",\"type\":\"checkbox\",\"name\":\"left-hand\",\"value\":\"leftHand\"},domProps:{\"checked\":Array.isArray(_vm.leftHandEnabled)?_vm._i(_vm.leftHandEnabled,\"leftHand\")>-1:(_vm.leftHandEnabled)},on:{\"change\":function($event){var $$a=_vm.leftHandEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"leftHand\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.leftHandEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.leftHandEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.leftHandEnabled=$$c}}}}),_c('label',{attrs:{\"for\":\"right-hand\"}},[_vm._v(\"Right Hand\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rightHandEnabled),expression:\"rightHandEnabled\"}],attrs:{\"id\":\"right-hand\",\"type\":\"checkbox\",\"name\":\"left-hand\",\"value\":\"rightHand\"},domProps:{\"checked\":Array.isArray(_vm.rightHandEnabled)?_vm._i(_vm.rightHandEnabled,\"rightHand\")>-1:(_vm.rightHandEnabled)},on:{\"change\":function($event){var $$a=_vm.rightHandEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"rightHand\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.rightHandEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.rightHandEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.rightHandEnabled=$$c}}}})])]),_c('div',{staticClass:\"module\"},[_c('h3',{staticClass:\"panel-header\"},[_vm._v(\"Tempo\")]),_c('div',{staticClass:\"panel\"},[_c('label',{attrs:{\"for\":\"volume\"}},[_vm._v(_vm._s(_vm.bpm)+\"bpm\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawBpm),expression:\"rawBpm\"}],attrs:{\"id\":\"tempo\",\"type\":\"range\",\"name\":\"tempo\",\"min\":\"1\",\"max\":\"240\",\"step\":\"1\"},domProps:{\"value\":(_vm.rawBpm)},on:{\"__r\":function($event){_vm.rawBpm=$event.target.value}}})])]),_c('div',{staticClass:\"module\"},[_c('h3',{staticClass:\"panel-header\"},[_vm._v(\"Looping\")]),_c('div',{staticClass:\"panel\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.loopEnabled),expression:\"loopEnabled\"}],attrs:{\"id\":\"looping\",\"type\":\"checkbox\",\"name\":\"looping\",\"min\":\"1\",\"max\":\"240\",\"step\":\"1\"},domProps:{\"checked\":Array.isArray(_vm.loopEnabled)?_vm._i(_vm.loopEnabled,null)>-1:(_vm.loopEnabled)},on:{\"change\":function($event){var $$a=_vm.loopEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.loopEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.loopEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.loopEnabled=$$c}}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawLoopStart),expression:\"rawLoopStart\"}],staticStyle:{\"width\":\"50px\"},attrs:{\"id\":\"loop-start\",\"type\":\"number\",\"name\":\"loop-start\",\"step\":\"1000\",\"disabled\":!_vm.loopEnabled},domProps:{\"value\":(_vm.rawLoopStart)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.rawLoopStart=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rawLoopEnd),expression:\"rawLoopEnd\"}],staticStyle:{\"width\":\"50px\"},attrs:{\"id\":\"loop-end\",\"type\":\"number\",\"name\":\"loop-end\",\"step\":\"1000\",\"disabled\":!_vm.loopEnabled},domProps:{\"value\":(_vm.rawLoopEnd)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.rawLoopEnd=$event.target.value}}})])]),_c('div',{staticClass:\"module\"},[_c('h3',{staticClass:\"panel-header\"},[_vm._v(\"Midi Input\")]),_c('div',{staticClass:\"panel\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedInput),expression:\"selectedInput\"}],attrs:{\"id\":\"songs\",\"name\":\"songs\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedInput=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.availableInputs),function(input){return _c('option',{key:input,domProps:{\"value\":input,\"innerHTML\":_vm._s(input)}})}),0)])])])]),_c('div',{attrs:{\"id\":\"sheet\"}},[_c('runner',{ref:\"runner\",attrs:{\"midiJson\":_vm.midiJson,\"height\":_vm.sheetHeight,\"width\":_vm.sheetWidth,\"keyWidth\":_vm.keyWidth,\"isPlaying\":_vm.isPlaying,\"bpm\":_vm.bpm,\"mode\":_vm.mode,\"loopEnabled\":_vm.loopEnabled,\"loopStart\":_vm.loopStart,\"loopEnd\":_vm.loopEnd,\"leftHandEnabled\":_vm.leftHandEnabled,\"rightHandEnabled\":_vm.rightHandEnabled,\"midi-device\":_vm.midiDevice},on:{\"pause\":function($event){_vm.isPlaying = false}}})],1),_c('div',{attrs:{\"id\":\"keyboard\"}},_vm._l((_vm.octaveAmount),function(k){return _c('octave',{key:k,ref:k,refInFor:true,attrs:{\"octaveWidth\":_vm.octaveWidth,\"octave\":k,\"keyWidth\":_vm.keyWidth}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"octave\",style:({width: (_vm.octaveWidth + \"px\")})},[_c('div',{staticClass:\"white-keys\"},[_c('white-key',{key:\"C\",ref:\"C\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"C\",\"midiNumber\":_vm.octave * 12 + 1}}),_c('white-key',{key:\"D\",ref:\"D\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"D\",\"midiNumber\":_vm.octave * 12 + 2}}),_c('white-key',{key:\"E\",ref:\"E\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"E\",\"midiNumber\":_vm.octave * 12 + 3}}),_c('white-key',{key:\"F\",ref:\"F\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"F\",\"midiNumber\":_vm.octave * 12 + 4}}),_c('white-key',{key:\"G\",ref:\"G\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"G\",\"midiNumber\":_vm.octave * 12 + 5}}),_c('white-key',{key:\"A\",ref:\"A\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"A\",\"midiNumber\":_vm.octave * 12 + 6}}),_c('white-key',{key:\"B\",ref:\"B\",style:({ width: (_vm.whiteKeyWidth + \"px\")}),attrs:{\"note\":\"B\",\"midiNumber\":_vm.octave * 12 + 7}})],1),_c('div',{staticClass:\"black-keys\"},[_c('black-key',{key:\"C#\",ref:\"C#\",style:({ width: (_vm.keyWidth + \"px\"), left:((2 + _vm.keyWidth) + \"px\")}),attrs:{\"note\":\"C#\"}}),_c('black-key',{key:\"D#\",ref:\"D#\",style:({ width: (_vm.keyWidth + \"px\"), left:((4 + _vm.keyWidth * 3) + \"px\")}),attrs:{\"note\":\"D#\"}}),_c('black-key',{key:\"F#\",ref:\"F#\",style:({ width: (_vm.keyWidth + \"px\"), left:((6 + _vm.keyWidth* 6) + \"px\")}),attrs:{\"note\":\"F#\"}}),_c('black-key',{key:\"G#\",ref:\"G#\",style:({ width: (_vm.keyWidth + \"px\"), left:((4 + _vm.keyWidth * 8) + \"px\")}),attrs:{\"note\":\"G#\"}}),_c('black-key',{key:\"A#\",ref:\"A#\",style:({ width: (_vm.keyWidth + \"px\"), left:((_vm.keyWidth * 10) + \"px\")}),attrs:{\"note\":\"A#\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"white-key\",class:{ pressed: _vm.currentVelocity},style:({'background-color': _vm.keyColor})},[_c('span',[_vm._v(_vm._s(_vm.note))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.white-key(v-bind:class='{ pressed: currentVelocity}' :style=\"{'background-color': keyColor}\")\n  span {{ note }}\n</template>\n\n<script>\nimport { interpolateMagma } from 'd3-scale-chromatic';\nimport { scaleSequential } from 'd3-scale';\nimport { color } from 'd3-color';\n\nexport default {\n  name: 'WhiteKey',\n  props: {\n    velocity: Number,\n    note: String,\n    midiNumber: Number,\n  },\n  data() {\n    return {\n      currentVelocity: 0,\n      keyColor: 'white',\n    };\n  },\n  mounted() {\n    this.$root.$on('reset', this.releaseKey);\n    this.colorScale = scaleSequential().domain([13, 91]).interpolator(interpolateMagma);\n    // console.log(this.note);\n    this.keyColor = color(this.colorScale(this.midiNumber));\n    // console.log(rawColor)\n  },\n  methods: {\n    pressKey(velocity) {\n      this.currentVelocity = velocity;\n    },\n    releaseKey() {\n      this.currentVelocity = 0;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.white-key{\n  box-shadow: 0 9px #999;\n}\n.pressed {\n  /* background-color: white !important; */\n  box-shadow: inset 0 0 10px #2c3e50;\n  transform: translateY(4px);\n}\n\nspan {\n  position: relative;\n  top: 80%;\n  border-radius: 5px;\n  padding: 5px;\n  background: rgb(209, 208, 208);\n  font: outline;\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: bolder;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhiteKey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhiteKey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WhiteKey.vue?vue&type=template&id=a7995684&scoped=true&lang=pug&\"\nimport script from \"./WhiteKey.vue?vue&type=script&lang=js&\"\nexport * from \"./WhiteKey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WhiteKey.vue?vue&type=style&index=0&id=a7995684&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7995684\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"black-key\",class:{ pressed: _vm.currentVelocity}},[_c('span',[_vm._v(_vm._s(_vm.note))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.black-key(v-bind:class='{ pressed: currentVelocity}')\n  span {{ note }}\n</template>\n\n<script>\nexport default {\n  name: 'BlackKey',\n  props: {\n    velocity: Number,\n    note: String,\n  },\n  data() {\n    return {\n      currentVelocity: 0,\n    };\n  },\n  mounted() {\n    this.$root.$on('reset', this.releaseKey);\n  },\n  methods: {\n    pressKey(velocity) {\n      this.currentVelocity = velocity;\n    },\n    releaseKey() {\n      this.currentVelocity = 0;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\nspan {\n  position: relative;\n  top: 70%;\n  padding: 5px;\n  padding-right: 5px;\n  padding-left: 5px;\n  border-radius: 5px;\n  background: rgb(209, 208, 208);\n  font: outline;\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: bold;\n  font-size: 75%;\n}\n\n.pressed {\n  box-shadow: 0 5px #666;\n  transform: translateY(4px);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlackKey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlackKey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlackKey.vue?vue&type=template&id=1f5cdd4d&scoped=true&lang=pug&\"\nimport script from \"./BlackKey.vue?vue&type=script&lang=js&\"\nexport * from \"./BlackKey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BlackKey.vue?vue&type=style&index=0&id=1f5cdd4d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f5cdd4d\",\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.octave(:style='{width: `${octaveWidth}px`}')\n  .white-keys\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='C' key='C' note='C' :midiNumber=\"octave * 12 + 1\")\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='D' key='D' note='D' :midiNumber=\"octave * 12 + 2\")\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='E' key='E' note='E' :midiNumber=\"octave * 12 + 3\")\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='F' key='F' note='F' :midiNumber=\"octave * 12 + 4\")\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='G' key='G' note='G' :midiNumber=\"octave * 12 + 5\")\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='A' key='A' note='A' :midiNumber=\"octave * 12 + 6\")\n    white-key(:style='{ width: `${whiteKeyWidth}px`}' ref='B' key='B' note='B' :midiNumber=\"octave * 12 + 7\")\n  .black-keys\n    black-key(:style='{ width: `${keyWidth}px`, left:`${2 + keyWidth}px`}' ref='C#' key='C#' note='C#')\n    black-key(:style='{ width: `${keyWidth}px`, left:`${4 + keyWidth * 3}px`}' ref='D#' key='D#' note='D#')\n    black-key(:style='{ width: `${keyWidth}px`, left:`${6 + keyWidth* 6}px`}' ref='F#' key='F#' note='F#')\n    black-key(:style='{ width: `${keyWidth}px`, left:`${4 + keyWidth * 8}px`}' ref='G#' key='G#' note='G#')\n    black-key(:style='{ width: `${keyWidth}px`, left:`${keyWidth * 10}px`}' ref='A#' key='A#' note='A#')\n</template>\n\n<script>\nimport WhiteKey from './WhiteKey.vue';\nimport BlackKey from './BlackKey.vue';\n\nexport default {\n  components: { WhiteKey, BlackKey },\n  name: 'Octave',\n  props: {\n    keyWidth: Number,\n    octaveWidth: Number,\n    octave: Number,\n  },\n  computed: {\n    whiteKeyWidth() { return this.keyWidth * 2; },\n  },\n  mounted() {\n    console.log(this.octave);\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n\n.octave {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  position: relative;\n}\n.white-keys {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n}\n.black-keys {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  top:0;\n  left: 0;\n  position: absolute;\n}\n\n.white-key {\n  height: 100%;\n  border: 1px solid;\n  border-radius: 5px;\n  background-color: whitesmoke;\n  margin: 0;\n  padding: 0;\n  box-shadow: inset 0 0 5px #4d4c4c;\n}\n\n.black-key {\n  height: calc(100% / 1.5);\n  border-radius: 5px;\n  background-color: rgb(49, 49, 49);\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  border: 1px solid black;\n  box-shadow: 0px 0px 5px #4d4c4c;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Octave.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Octave.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Octave.vue?vue&type=template&id=09af3efd&lang=pug&\"\nimport script from \"./Octave.vue?vue&type=script&lang=js&\"\nexport * from \"./Octave.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Octave.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"canvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#canvas\n</template>\n\n<script>\nimport P5 from 'p5';\nimport { Piano } from '@tonejs/piano';\nimport _ from 'lodash';\nimport { interpolateMagma } from 'd3-scale-chromatic';\nimport { scaleSequential } from 'd3-scale';\nimport { color } from 'd3-color';\n// import Particle from '../Particle';\n\nexport default {\n  name: 'Runner',\n  props: {\n    width: null,\n    height: null,\n    keyWidth: null,\n    midiJson: null,\n    isPlaying: Boolean,\n    bpm: Number,\n    mode: String,\n    loopEnabled: Boolean,\n    loopStart: Number,\n    loopEnd: Number,\n    leftHandEnabled: Boolean,\n    rightHandEnabled: Boolean,\n    midiDevice: Object,\n  },\n  data() {\n    this.cachedNotes = null;\n    return {\n      keys: {},\n      lowestKey: 24,\n      isKeyPressed: false,\n      isKeyBeingPressed: false,\n      sketch: null,\n      standardQuarterNoteHeight: 240,\n      notes: [],\n      position: 0,\n      deltaTime: 0,\n      keysToBePressed: new Set(),\n      bpmScaler: 1,\n      colorScale: undefined,\n    };\n  },\n  mounted() {\n    console.log(interpolateMagma);\n    console.log(scaleSequential);\n    this.colorScale = scaleSequential().domain([24, 107]).interpolator(interpolateMagma);\n    document.addEventListener('keydown', this.keyDown);\n    document.addEventListener('keyup', this.keyUp);\n    window.addEventListener('load', () => {\n      console.log('page is fully loaded');\n      this.sketchIt();\n      this.createKeys();\n    });\n    this.$parent.$on('stop', this.stop);\n    this.initializePianoSamples();\n  },\n  computed: {\n    green() { return [52, 206, 77]; },\n    darkGreen() { return [50, 117, 61]; },\n    red() { return [245, 22, 22]; },\n    darkRed() { return [128, 38, 38]; },\n    blue() { return [3, 132, 252]; },\n    darkBlue() { return [59, 96, 133]; },\n    gray() { return [138, 138, 138]; },\n    keyTriggerLocation() { return this.height - this.bpm2px; },\n    rawAllNotes() { return _.flatMapDeep(this.midiJson?.tracks, (track) => [track.notes]); },\n    // need to round up the minimum measure as it should be multiple of 20 which means 1/16 note\n    minimumMeasure() { return Math.ceil(_.minBy(this.rawAllNotes, (note) => note?.durationTicks)?.durationTicks / 20) * 20; },\n    divisionRate() { return this.standardQuarterNoteHeight / this.midiJson?.header.ppq; },\n    bpm2px() { return (this.bpm * 4) / (1000 / this.deltaTime); },\n    positionAdder() { return this.bpm2px * this.bpmScaler; },\n  },\n  watch: {\n    // need to add listeners again whenever the device changes\n    midiDevice() {\n      this.midiDevice.addListener('noteon', 'all', (e) => {\n        console.log(e);\n        const { note } = e;\n        this.$set(this.keys, note.number, true);\n        this.keysToBePressed.delete(note.number);\n        if (!this.keysToBePressed.size && this.mode === 'waitInput') this.$parent.isPlaying = true;\n        this.noteOn(note);\n      });\n      this.midiDevice.addListener('noteoff', 'all', (e) => {\n        console.log(e);\n        const { note } = e;\n        this.$set(this.keys, note.number, false);\n        this.noteOff(note);\n      });\n    },\n\n    isKeyPressed(newVal) {\n      console.log('isKeypressed');\n      console.log(newVal);\n    },\n\n    isKeyBeingPressed(newVal) {\n      console.log('isKeyBeingPressed');\n      console.log(newVal);\n    },\n\n    loopEnabled(newVal) {\n      if (newVal) this.setupForLoop();\n      else {\n        this.$set(this, 'notes', this.cachedNotes.filter((note) => Math.abs(note.position) > this.position - this.height));\n        this.resetNoteState();\n      }\n    },\n\n    loopStart() {\n      this.setupForLoop();\n    },\n\n    loopEnd() {\n      this.setupForLoop();\n    },\n\n    isPlaying(newVal) {\n      if (newVal) this.bpmScaler = 1;\n      else this.bpmScaler = 0;\n    },\n\n    mode(newValue) {\n      if (newValue === 'playAlong') this.keysToBePressed.clear();\n    },\n  },\n  methods: {\n\n    initializePianoSamples() {\n      this.piano = new Piano({ velocities: 2 });\n      this.piano.toDestination();\n      this.piano.output.gain.value = 0.5;\n      this.piano.load().then(() => {\n        console.log('loaded!');\n      });\n    },\n\n    createKeys() {\n      for (let i = this.lowestKey; i < 108; i += 1) {\n        this.$set(this.keys, i, false);\n      }\n    },\n\n    pickMode(note, i) {\n      if (this.mode === 'waitInput') {\n        note.isOpen = true;\n        this.keysToBePressed.add(note.number);\n        console.log(this.keysToBePressed);\n        this.pressKeyComponent(note.octave, note.name);\n        this.$emit('pause');\n      }\n      if (this.mode === 'playAlong') {\n        note.isOpen = true;\n        this.$set(this.notes, i, note);\n        this.noteOn(note, i);\n        console.log('note started', note, i);\n      }\n    },\n\n    drawNotes() {\n      for (let i = this.notes.length - 1; i >= 0; i -= 1) {\n        const note = this.notes[i];\n        // coloring\n        this.sketch.fill(this.gray);\n        if (this.leftHandEnabled && note.hand === 'left') this.sketch.fill(note.color);\n        if (this.rightHandEnabled && note.hand === 'right') this.sketch.fill(note.color);\n        note.show();\n        if (note.isNoteStart() && !note.isOpen) {\n          console.log('fill with ');\n          note.color = this.darkBlue;\n          if (this.leftHandEnabled && note.hand === 'left') {\n            this.pickMode(note, i);\n          }\n          if (this.rightHandEnabled && note.hand === 'right') {\n            this.pickMode(note, i);\n          }\n        }\n\n        if (note.isNoteEnd()) {\n          note.isOpen = false;\n          this.notes.splice(i, 1);\n          this.noteOff(note, i);\n          console.log('note ended', note, i);\n        }\n      }\n    },\n\n    noteOn(note) {\n      console.log('Note ON: ', note);\n      this.piano.keyDown({ midi: note.number });\n      this.pressKeyComponent(note.octave, note.name);\n    },\n\n    noteOff(note) {\n      console.log('Note OFF: ', note);\n      this.piano.keyUp({ midi: note.number });\n      this.releaseKeyComponent(note.octave, note.name);\n    },\n\n    stop() {\n      this.position = 0;\n      this.$set(this, 'notes', _.cloneDeep(this.cachedNotes));\n      this.resetNoteState();\n    },\n\n    resetNoteState() {\n      this.piano.stopAll();\n      this.notes.forEach((note) => {\n        note.isOpen = false;\n        note.color = this.pickColor(note.hand, note.name);\n      });\n      this.$root.$emit('reset');\n    },\n\n    loopInArea() {\n      if (this.position >= this.loopEnd + this.height) {\n        this.setupForLoop();\n      }\n    },\n\n    setupForLoop() {\n      this.$set(this, 'notes', this.cachedNotes.filter((note) => Math.abs(note.position) > this.loopStart && Math.abs(note.position) < this.loopEnd));\n      this.resetNoteState();\n      this.position = this.loopStart + this.height;\n    },\n\n    parseMidi() {\n      this.position = 0;\n      this.$set(this, 'notes', []); // in case the user chose a new file while a song is playing\n      this.resetNoteState();\n      this.midiJson.tracks.forEach((track, index) => {\n        console.log('parsing tracks..');\n        track.notes.forEach((note) => {\n          console.log('parsing notes..');\n          const {\n            midi, durationTicks, ticks, octave, pitch,\n          } = note;\n          const adjustedHeight = -durationTicks * this.divisionRate;\n          const adjustedStart = -ticks * this.divisionRate;\n          const offset = this.getOffset(note);\n          const [x, y, w, h] = [((midi - this.lowestKey) * this.keyWidth) + offset, adjustedStart, this.keyWidth, adjustedHeight];\n          const hand = index === 1 ? 'left' : 'right';\n          this.notes.push({\n            hand,\n            number: midi,\n            octave,\n            name: pitch,\n            color: this.pickColor(midi),\n            velocity: 0,\n            isOpen: false,\n            position: y,\n            show: () => this.sketch.rect(x, y, w, h, 5),\n            // write: this.sketch.imagePicker(pitch, x, y),\n            isNoteStart: () => this.height <= y + this.position,\n            isNoteEnd: () => this.keyTriggerLocation <= y + h + this.position,\n          });\n        });\n        this.cachedNotes = _.cloneDeep(this.notes);\n      });\n    },\n\n    getOffset(note) {\n      const offsets = {\n        'C#': 2,\n        'D#': 4,\n        'F#': 6,\n        'G#': 4,\n        G: 5,\n        A: 3,\n        E: 3,\n        F: 5,\n        D: 5,\n      };\n      return _.get(offsets, note.pitch, 0);\n    },\n\n    // pickColor(hand, noteName) {\n    //   const colorOptions = {\n    //     // for each option: [condition, result]\n    //     rightHandSharp: [hand === 'right' && noteName.includes('#'), this.darkRed],\n    //     leftHandSharp: [hand === 'left' && noteName.includes('#'), this.darkGreen],\n    //     rightHand: [hand === 'right', this.red],\n    //     leftHand: [hand === 'left', this.green],\n    //   };\n    //   return Object.values(colorOptions).find((options) => options[0])[1];\n    // },\n    pickColor(midiNumber) {\n      // console.log(midiNumber);\n      // console.log(this.colorScale);\n      const rawColor = color(this.colorScale(midiNumber));\n      // console.log(rawColor);\n      const { r, g, b } = rawColor;\n      return [r, g, b];\n      // const color = this.colorScale(midiNumber);\n      // console.log(color);\n      // return color;\n      // return Object.values(colorOptions).find((options) => options[0])[1];\n    },\n\n    pressKeyComponent(octave, pitch) {\n      this.$parent.$refs[octave][0].$refs[pitch].pressKey(55);\n    },\n\n    releaseKeyComponent(octave, pitch) {\n      this.$parent.$refs[octave][0].$refs[pitch].releaseKey();\n    },\n\n    sketchIt() {\n      // const particles = [];\n      const sketch = (s) => {\n        s.effectGenerator = (x, pace) => {\n          let i = 0;\n          const { keyWidth } = this;\n          const { height } = this;\n          const { darkBlue } = this;\n          return (position) => {\n            if (i < keyWidth - 10) {\n              s.rectMode(s.CORNERS);\n              s.fill(...darkBlue, 100);\n              s.rect(x + i, 0 - position, x - i, height - position);\n              s.rectMode(s.CORNER);\n              i += pace;\n            }\n          };\n        };\n\n        s.setup = () => {\n          s.createCanvas(this.width, this.height);\n        };\n        s.draw = () => {\n          s.background(33, 33, 33);\n          s.translate(0, this.position);\n          if (this.loopEnabled) this.loopInArea();\n          // for (let i = 0; i < 5; i += 1) {\n          //   const p = new Particle();\n          //   particles.push(p);\n          // }\n          // for (let i = particles.length - 1; i >= 0; i -= 1) {\n          //   particles[i].update();\n          //   particles[i].show();\n          //   if (particles[i].finished()) {\n          //     // remove this particle\n          //     particles.splice(i, 1);\n          //   }\n          // }\n          this.drawNotes(s);\n          if (this.isPlaying) {\n            this.deltaTime = s.deltaTime;\n            this.position += this.positionAdder;\n          }\n          s.textSize(32);\n          s.fill(255);\n          s.text(Math.round(this.position) - this.height, 30, 60 - this.position);\n        };\n        this.sketch = s;\n      };\n      new P5(sketch, 'canvas');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Runner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Runner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Runner.vue?vue&type=template&id=53bf67d6&lang=pug&\"\nimport script from \"./Runner.vue?vue&type=script&lang=js&\"\nexport * from \"./Runner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n#app\n  #player\n    #about\n      h1(:style=\"{'margin-top': '0px'}\")\n        a(href='/') Play Piano Online\n      label About The Author\n      #icon-container\n        a(target='_blank' href='https://github.com/Grkmus')\n          font-awesome-icon(:icon=\"['fab', 'github']\" size='2x')\n        a(target='_blank' href='https://twitter.com/tosungo')\n          font-awesome-icon(:icon=\"['fab', 'twitter']\" size='2x')\n        a(target='_blank' href='https://www.instagram.com/tosungo/')\n          font-awesome-icon(:icon=\"['fab', 'instagram']\" size='2x')\n        a(target='_blank' href='https://gorkemtosun.com/')\n          font-awesome-icon(:icon=\"['fa', 'globe']\" size='2x')\n    #player-options\n      .module\n        h3.panel-header Song\n        .panel\n          .container\n            label(for='filereader')  Chose a midi file\n            input#filereader(@change='readFile' type='file' name='filereader' ref='filereader' style='width: 140px')\n          .container\n            label(for='songs') Or pick a predefined song:\n            select#songs(v-model='selectedSong' name='songs')\n              option(label='Canon in D' value='Canon in D')\n              option(label='Mozart - Rondo Alla Turca' value='Mozart - Rondo Alla Turca')\n      .module\n        h3.panel-header Player\n        .panel\n          font-awesome-icon(icon='step-backward' size='2x')\n          font-awesome-icon(v-if='isPlaying' @click='isPlaying=false' icon='pause' size='2x')\n          font-awesome-icon(v-else='' @click='isPlaying=true' icon='play' size='2x')\n          font-awesome-icon(@click='stop' icon='stop' size='2x')\n          font-awesome-icon(icon='step-forward' size='2x')\n        span.truncate Current Song: {{ fileName || selectedSong }}\n      .module\n        h3.panel-header Mods\n        .panel\n          label(for='play-along') Play along\n          input#play-along(type='radio' name='mode' value='playAlong' v-model='mode')\n          label(for='wait-input') Wait for input\n          input#wait-input(type='radio' name='mode' value='waitInput' v-model='mode')\n          label(for='left-hand') Left Hand\n          input#left-hand(type='checkbox' name='left-hand' value='leftHand' v-model='leftHandEnabled')\n          label(for='right-hand') Right Hand\n          input#right-hand(type='checkbox' name='left-hand' value='rightHand' v-model='rightHandEnabled')\n      .module\n        h3.panel-header Tempo\n        .panel\n          label(for='volume') {{bpm}}bpm\n          input#tempo(v-model='rawBpm' type='range' name='tempo' min='1' max='240' step='1')\n      .module\n        h3.panel-header Looping\n        .panel\n          input#looping(v-model='loopEnabled' type='checkbox' name='looping' min='1' max='240' step='1')\n          input#loop-start(v-model='rawLoopStart' type='number' name='loop-start' step='1000' :disabled='!loopEnabled' style='width: 50px')\n          input#loop-end(v-model='rawLoopEnd' type='number' name='loop-end' step='1000' :disabled='!loopEnabled' style='width: 50px')\n      .module\n        h3.panel-header Midi Input\n        .panel\n          select#songs(v-model='selectedInput' name='songs')\n            option(:key='input' v-html='input' :value='input' v-for='input in availableInputs')\n  #sheet\n    runner(\n      ref='runner'\n      :midiJson='midiJson'\n      :height='sheetHeight'\n      :width='sheetWidth'\n      :keyWidth='keyWidth'\n      :isPlaying='isPlaying'\n      :bpm='bpm'\n      :mode='mode'\n      :loopEnabled='loopEnabled'\n      :loopStart='loopStart'\n      :loopEnd='loopEnd'\n      :leftHandEnabled='leftHandEnabled'\n      :rightHandEnabled='rightHandEnabled'\n      @pause='isPlaying = false'\n      :midi-device='midiDevice'\n    )\n  #keyboard\n    octave(\n      v-for='k in octaveAmount'\n      :ref='k'\n      :octaveWidth='octaveWidth'\n      :octave='k'\n      :keyWidth='keyWidth'\n      :key='k'\n    )\n</template>\n\n<script>\nimport WebMidi from 'webmidi';\nimport { Midi } from '@tonejs/midi';\nimport Octave from './components/Octave.vue';\nimport Runner from './components/Runner.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Octave,\n    Runner,\n  },\n  data() {\n    return {\n      reader: new FileReader(),\n      sheetHeight: null,\n      sheetWidth: null,\n      midiJson: null,\n      rawFileName: null,\n      octaveAmount: 7,\n      isPlaying: false,\n      rawBpm: 120,\n      mode: 'playAlong',\n      loopEnabled: false,\n      rawLoopStart: 2000,\n      rawLoopEnd: 3000,\n      publicPath: process.env.BASE_URL,\n      predefinedSongs: [],\n      selectedSong: 'Mozart - Rondo Alla Turca',\n      leftHandEnabled: true,\n      rightHandEnabled: true,\n      selectedInput: null,\n      availableInputs: null,\n      midiDevice: null,\n    };\n  },\n\n  mounted() {\n    WebMidi.enable(() => {\n      console.log(WebMidi.inputs);\n      console.log(WebMidi.outputs);\n      this.availableInputs = WebMidi.inputs.map((input) => input.name);\n      this.selectedInput = this.availableInputs[0]; //eslint-disable-line\n    });\n\n    this.sheetHeight = this.$el.querySelector('#sheet').offsetHeight;\n    this.sheetWidth = this.$el.querySelector('#sheet').offsetWidth;\n\n    this.reader.addEventListener('onerror', (e) => {\n      console.log('load different.', e);\n    });\n    this.reader.addEventListener('load', (e) => {\n      // debugger;\n      console.log('reading file', e.target.result);\n      this.midiJson = new Midi(e.target.result);\n      this.rawBpm = this.midiJson.header.tempos[0].bpm;\n    });\n    this.reader.addEventListener('loadend', () => {\n      console.log('Loaded midi file: ', this.midiJson);\n      this.$refs.runner.parseMidi();\n    });\n    fetch(`${this.publicPath}MozartWolfgangAmadeus_AllaTurcaRondo.midi`).then((res) => res.blob()).then((res) => {\n      this.reader.readAsArrayBuffer(res);\n      this.predefinedSongs.push({ name: 'Mozart - Rondo Alla Turca', blob: res });\n    });\n    fetch(`${this.publicPath}Canon_in_D.mid`).then((res) => res.blob()).then((res) => {\n      this.predefinedSongs.push({ name: 'Canon in D', blob: res });\n    });\n  },\n  watch: {\n    selectedSong(newVal) {\n      this.reader.readAsArrayBuffer(this.predefinedSongs.find((song) => song.name === newVal).blob);\n      this.$refs.filereader.value = '';\n      this.rawFileName = '';\n    },\n\n    mode(newValue) {\n      if (newValue === 'playAlong') this.isPlaying = true;\n    },\n\n    selectedInput(newVal) {\n      this.midiDevice = WebMidi.getInputByName(newVal);\n    },\n  },\n  computed: {\n    octaveWidth() { return this.sheetWidth / this.octaveAmount; },\n    keyWidth() { return this.octaveWidth / 12; },\n    bpm() { return Math.round(Number(this.rawBpm)); },\n    loopStart() { return Number(this.rawLoopStart); },\n    loopEnd() { return Number(this.rawLoopEnd); },\n    fileName() { return this.rawFileName?.split('.')[0]; },\n  },\n  methods: {\n    readFile() {\n      // triggers the load event!\n      this.isPlaying = false;\n      this.reader.readAsArrayBuffer(this.$refs.filereader.files[0]);\n      this.rawFileName = this.$refs.filereader.files[0].name;\n    },\n    stop() {\n      this.$refs.runner.stop();\n      this.isPlaying = false;\n    },\n  },\n};\n</script>\n\n<style>\n.container {\n  display: flex;\n  flex-direction: column;\n  justify-items: center;\n}\n#icon-container {\n  display: flex;\n  justify-content: space-evenly;\n}\nh1 {\n  color: white;\n  position: relative;\n}\nlabel {\n  color: white;\n  align-self: center;\n  padding-left: 10px;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  margin-top: 0;\n  height: 100%;\n}\n#player {\n  display: flex;\n  position: relative;\n  height: 10%;\n  justify-content: space-around;\n  background: #2c3e50;\n  z-index: 1;\n}\n#player-options {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  background: #2c3e50;\n  z-index: 1;\n  flex-wrap: wrap;\n}\n#sheet {\n  display: flex;\n  height: 75%;\n  width: 100%;\n}\n#keyboard {\n  display: flex;\n  width: 100%;\n  height: 15%;\n  color: #2c3e50;\n}\n\nhtml, body {\n  background-color: rgb(59, 54, 54);\n  color: white;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  font-size: 0.5vw;\n}\n\n#about {\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\ninput {\n  font-size: 0.5vw;\n}\nselect {\n  font-size: 0.5vw;\n}\n\n.module {\n  border: solid 1px whitesmoke;\n  border-radius: 10px;\n  padding: 5px;\n  margin: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n}\n\n.panel {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  margin: 5px;\n  height: 100%;\n}\n.panel-header {\n  padding: 2px;\n  margin: 0px;\n  border-bottom: 1px groove\n}\n\n.truncate {\n  width: 10vw;\n  white-space: nowrap;\n  overflow: hidden;\n  display:block;\n  padding-bottom: 8px;\n  text-overflow: ellipsis\n}\n\na, a:visited, a:hover, a:active {\n  color: inherit;\n  text-decoration: none !important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0120fe82&lang=pug&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport App from './App.vue';\n\nlibrary.add(fas, fab);\n\nVue.component('font-awesome-icon', FontAwesomeIcon);\nVue.config.productionTip = false;\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlackKey.vue?vue&type=style&index=0&id=1f5cdd4d&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhiteKey.vue?vue&type=style&index=0&id=a7995684&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Octave.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}